(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[51],{"0B42":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("miYZ");var i=n(a("tsqr")),u=n(a("p0pE")),p=a("mur1"),s=a("+n12"),d={data:{},current:0,tipTitle:"\u63d0\u793a",tipContent:"",tipBtn:"\u77e5\u9053\u4e86"},c={namespace:"demandDetail",state:d,effects:{getDetail:r.default.mark(function e(t,a){var n,d,c,o,l,f,m,v;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.demandsId,d=a.put,c=a.call,e.next=4,c(p.getDetail,{demandsId:n});case 4:if(o=e.sent,l=o.data,f=o.ok,m=o.msg,v=(0,u.default)({},l,{servicePrice:(0,s.displayYuan)(l&&l.servicePrice),content:l.content&&l.content.replace(/<img/g,'<img style="max-width: 100%"')}),!f){e.next=14;break}return e.next=12,d({type:"updateState",payload:{data:v}});case 12:e.next=15;break;case 14:i.default.error(m);case 15:case"end":return e.stop()}},e)}),getDeal:r.default.mark(function e(t,a){var n,u,s,d,c,o,l,f;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.demandsId,u=a.put,s=a.call,e.next=4,s(p.getDeal,{demandsId:n});case 4:d=e.sent,c=d.ok,o=d.msg,l=d.code,e.t0=l,e.next=4100===e.t0?11:4101===e.t0?13:4102===e.t0?15:17;break;case 11:return f={tipTitle:"\u63d0\u793a",tipContent:"\u60a8\u662f\u8be5\u9700\u6c42\u7684\u53d1\u5e03\u65b9\uff0c\u4e0d\u53ef\u63a5\u5355\u81ea\u5df1\u53d1\u5e03\u7684\u9700\u6c42",tipBtn:"\u77e5\u9053\u4e86",showTip:!0,jumpToService:!1},e.abrupt("break",18);case 13:return f={tipTitle:"\u60a8\u8fd8\u4e0d\u662f\u670d\u52a1\u5546",tipContent:"\u7533\u8bf7\u6210\u4e3a\u670d\u52a1\u5546\u540e\u5373\u53ef\u63a5\u5355",tipBtn:"\u7533\u8bf7\u6210\u4e3a\u670d\u52a1\u5546",showTip:!0,jumpToService:!0},e.abrupt("break",18);case 15:return f={tipTitle:"\u63d0\u793a",tipContent:"\u60a8\u5df2\u7ecf\u63a5\u8fc7\u5355\u4e86\uff0c\u8bf7\u7b49\u5f85\u5e73\u53f0\u5c0f\u4e8c\u5c06\u4e3a\u60a8\u670d\u52a1\n\u60a8\u4e5f\u53ef\u4ee5\u8054\u7cfb\u5e73\u53f0\u5ba2\u670d\uff1a025-86123899",tipBtn:"\u77e5\u9053\u4e86",showTip:!0,jumpToService:!1},e.abrupt("break",18);case 17:c?f={tipTitle:"\u63a5\u5355\u6210\u529f",tipContent:"\u5e73\u53f0\u5c0f\u4e8c\u5c06\u4e3a\u60a8\u548c\u9700\u6c42\u65b9\u8fdb\u884c\u4e00\u5bf9\u4e00\u670d\u52a1\n\u60a8\u4e5f\u53ef\u4ee5\u8054\u7cfb\u5e73\u53f0\u5ba2\u670d\uff1a025-86123899",tipBtn:"\u77e5\u9053\u4e86",showTip:!0,jumpToService:!1}:i.default.error(o);case 18:return e.next=20,u({type:"save",payload:f});case 20:return e.next=22,u({type:"getDetail",demandsId:n});case 22:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){var a=t.payload;return(0,u.default)({},e,a)},updateState:function(e,t){var a=t.payload.data;return(0,u.default)({},e,{data:a,current:a.status})},destory:function(){return d}}};t.default=c}}]);