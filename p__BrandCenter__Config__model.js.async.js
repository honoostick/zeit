(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{Rk2T:function(e,t,r){"use strict";var n=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(r("p0pE")),a=n(r("d6i3"));r("miYZ");var o=n(r("tsqr")),s=r("fWpk"),d={namespace:"brandCenterConfig",state:{showModal:0},effects:{fetchCode:a.default.mark(function e(t,r){var n,u,d,c,l,i;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.mobileNumber,u=t.smsType,d=r.call,e.next=4,d(s.getCode,n,u);case 4:c=e.sent,l=c.ok,i=c.msg,l||o.default.error(i);case 8:case"end":return e.stop()}},e)}),modifyPwd:a.default.mark(function e(t,r){var n,u,d,c,l,i,f;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.code,u=t.newPwd,d=r.call,c=r.put,e.next=4,d(s.modifyPwd,n,u);case 4:if(l=e.sent,i=l.ok,f=l.msg,i){e.next=11;break}o.default.error(f),e.next=16;break;case 11:return o.default.success("\u5bc6\u7801\u91cd\u7f6e\u6210\u529f"),e.next=14,c({type:"reset"});case 14:return e.next=16,c({type:"login/logout"});case 16:case"end":return e.stop()}},e)}),modifyMobile:a.default.mark(function e(t,r){var n,d,c,l,i,f,p,m,w,b,y;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.oldCode,d=t.newMobileNumber,c=t.newCode,l=r.call,i=r.put,f=r.select,e.next=4,f(function(e){return e.user});case 4:return p=e.sent,m=p.currentUser,e.next=8,l(s.modifyMobile,n,d,c);case 8:if(w=e.sent,b=w.ok,y=w.msg,b){e.next=15;break}o.default.error(y),e.next=20;break;case 15:return o.default.success("\u624b\u673a\u66f4\u6362\u6210\u529f"),e.next=18,i({type:"user/saveCurrentUser",payload:(0,u.default)({},m,{mobileNumber:d})});case 18:return e.next=20,i({type:"reset"});case 20:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){var r=t.payload;return(0,u.default)({},e,r)},reset:function(e){return(0,u.default)({},e,{mobile:null,code1:null,code21:null,code22:null,newPwd:null,showModal:0})}}};t.default=d},fWpk:function(e,t,r){"use strict";var n=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getText=a,t.getCode=o,t.modifyPwd=s,t.modifyMobile=d;var u=n(r("t3Un"));function a(){return(0,u.default)("/api/designercenter-security/text")}function o(e,t){return u.default.post("/mms/smsCode/1.2",{data:{mobileNumber:e,smsType:t}})}function s(e,t){return u.default.post("/mms/modifyPwd/1.2",{data:{code:e,newPwd:t}})}function d(e,t,r){return u.default.post("/mms/replace/1.2",{data:{oldCode:e,newMobileNumber:t,newCode:r}})}}}]);