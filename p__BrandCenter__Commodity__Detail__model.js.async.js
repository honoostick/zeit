(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{IEsp:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("p0pE"));a("miYZ");var s=r(a("tsqr")),i=r(a("d6i3")),u=r(a("xDdU")),d=r(a("LvDl")),o=a("tOdI"),l={namespace:"commodityListDetail",state:{loading:!1,goodsInfo:{goodsName:"",category:"",goodsBrand:"",currentPrice:0,stockNum:0,stockUnit:"",status:0,updateMan:"",id:"",buyableUserName:"",salesVolume:0,advisePrice:0,upperShelfTime:"",labels:0,picture:"",sellingPoint:"",minOrder:"",minOrderUnit:"",coverImage:"",templateName:"",originalStock:0,ifStepPrice:null,stepPriceList:[],shelfLabel:[]},specsList:[],showList:[],bannerList:[],pictureDetailList:[],detailPicMap:"",coverImages:[],labelsList:[]},effects:{fetch:i.default.mark(function e(t,a){var r,n,s;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,s=a.all,e.next=4,s([n({type:"getGoodsInfo",payload:{id:r}}),n({type:"getBannerList",payload:{goodsId:r}}),n({type:"getPictureDetail",payload:{goodsId:r}}),n({type:"getSpecsDetail",payload:{goodsId:r}})]);case 4:case"end":return e.stop()}},e)}),getGoodsInfo:i.default.mark(function e(t,a){var r,n,u,d,l,c,p;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,u=a.call,e.next=4,u(o.getGoodsInfo,{id:r.id});case 4:if(d=e.sent,l=d.ok,c=d.data,p=d.msg,l){e.next=11;break}return s.default.error(p),e.abrupt("return");case 11:return e.next=13,n({type:"updateGoodsInfo",payload:{data:c}});case 13:case"end":return e.stop()}},e)}),getBannerList:i.default.mark(function e(t,a){var r,n,u,d,l,c,p;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,u=a.call,e.next=4,u(o.getBannerList,{goodsId:r.goodsId});case 4:if(d=e.sent,l=d.ok,c=d.data,p=d.msg,l){e.next=11;break}return s.default.error(p),e.abrupt("return");case 11:return e.next=13,n({type:"updateBannerList",payload:{list:c.list}});case 13:case"end":return e.stop()}},e)}),getPictureDetail:i.default.mark(function e(t,a){var r,n,u,d,l,c,p;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,u=a.call,e.next=4,u(o.getPictureDetail,{goodsId:r.goodsId});case 4:if(d=e.sent,l=d.ok,c=d.data,p=d.msg,l){e.next=11;break}return s.default.error(p),e.abrupt("return");case 11:if(!(c.detailPicMap&&c.detailPicMap.length>0)){e.next=16;break}return e.next=14,n({type:"updatePictureDetail",payload:{detailPicMap:c.detailPicMap||""}});case 14:e.next=18;break;case 16:return e.next=18,n({type:"updatePictureList",payload:{list:c.list}});case 18:case"end":return e.stop()}},e)}),getSpecsDetail:i.default.mark(function e(t,a){var r,n,u,d,l,c,p;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,u=a.call,e.next=4,u(o.getSpecsDetail,{goodsId:r.goodsId});case 4:if(d=e.sent,l=d.ok,c=d.data,p=d.msg,l){e.next=11;break}return s.default.error(p),e.abrupt("return");case 11:return e.next=13,n({type:"updateSpecsDetail",payload:{data:c}});case 13:case"end":return e.stop()}},e)})},reducers:{updateSpecsDetail:function(e,t){var a=t.payload.data,r=d.default.orderBy(a.specsList,"keySort"),s=r.map(function(e){return(0,n.default)({},e,{valueList:d.default.orderBy(e.valueList,"valueSort")})});return(0,n.default)({},e,{specsList:s,showList:a.showList})},updateGoodsInfo:function(e,t){var a=t.payload.data;return(0,n.default)({},e,{goodsInfo:(0,n.default)({},a,{stepPriceList:a.stepPriceList?a.stepPriceList.map(function(e){return(0,n.default)({id:(0,u.default)()},e)}):[],shelfLabel:a.shelfLabel&&a.shelfLabel.split(",")||[]}),coverImages:[{id:(0,u.default)(),server:a.coverImage}]})},updateBannerList:function(e,t){var a=t.payload.list;return(0,n.default)({},e,{bannerList:a.map(function(e){return{id:e.id,server:e.picture}})})},updatePictureList:function(e,t){var a=t.payload.list;return(0,n.default)({},e,{pictureDetailList:a.map(function(e){return{id:e.id,server:e.picture}})})},updatePictureDetail:function(e,t){var a=t.payload.detailPicMap;return(0,n.default)({},e,{detailPicMap:a})}}};t.default=l},tOdI:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getGoodsInfo=s,t.getBannerList=i,t.getPictureDetail=u,t.getSpecsDetail=d;var n=r(a("t3Un"));function s(e){return(0,n.default)("/gms/info/goodsinfo/".concat(e.id,"/2/1.2"))}function i(e){return(0,n.default)("/gms/picture/carousel/".concat(e.goodsId))}function u(e){return(0,n.default)("/gms/picture/details/".concat(e.goodsId))}function d(e){return(0,n.default)("/gms/specs/details/".concat(e.goodsId))}}}]);