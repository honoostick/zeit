(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{"+fEy":function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("gWZ8")),s=r(a("p0pE")),i=r(a("d6i3"));a("miYZ");var u=r(a("tsqr")),c=a("Mk8k"),d={data:{providerName:"",profile:"",centent:"",seviceCase:"",labelList:[]},tagList:[],disabled:!1,status:null,providerStatus:0,visible:!1,tipTitle:"\u4fe1\u606f\u63d0\u4ea4\u6210\u529f",tipContent:"",tipBtn:"\u77e5\u9053\u4e86"},l={namespace:"centerServiceProvider",state:d,effects:{fetch:i.default.mark(function e(t,a){var r,n,s,d,l,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.put,n=a.call,e.next=3,n(c.getData);case 3:if(s=e.sent,d=s.data,l=s.ok,o=s.msg,!l){e.next=14;break}return e.next=10,r({type:"updateData",payload:{data:d}});case 10:return e.next=12,r({type:"getLabelList"});case 12:e.next=15;break;case 14:u.default.error(o);case 15:case"end":return e.stop()}},e)}),getLabelList:i.default.mark(function e(t,a){var r,n,s,d,l,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.put,n=a.call,e.next=3,n(c.getLabelList);case 3:if(s=e.sent,d=s.data,l=s.ok,o=s.msg,!l){e.next=12;break}return e.next=10,r({type:"saveTagList",payload:{data:d}});case 10:e.next=13;break;case 12:u.default.error(o);case 13:case"end":return e.stop()}},e)}),getProviderStatus:i.default.mark(function e(t,a){var r,n,s,d,l,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.put,n=a.call,e.next=3,n(c.getProviderStatus);case 3:if(s=e.sent,d=s.data,l=s.ok,o=s.msg,!l){e.next=19;break}return e.next=10,r({type:"save",payload:{providerStatus:d.status}});case 10:if(0!==d.status){e.next=15;break}return e.next=13,r({type:"save",payload:{visible:!0,tipTitle:"\u4fe1\u606f\u63d0\u4ea4\u6210\u529f",tipContent:"\u8d44\u6599\u901a\u8fc7\u5ba1\u6838\u540e\u5373\u53ef\u5728\u5e73\u53f0\u8fdb\u884c\u63a5\u5355",tipBtn:"\u77e5\u9053\u4e86"}});case 13:e.next=17;break;case 15:return e.next=17,r({type:"save",payload:{visible:!0,tipTitle:"\u4fe1\u606f\u63d0\u4ea4\u6210\u529f",tipContent:"\u60a8\u5f53\u524d\u53ef\u4ee5\u7ee7\u7eed\u63a5\u5355!",tipBtn:"\u77e5\u9053\u4e86"}});case 17:e.next=20;break;case 19:u.default.error(o);case 20:case"end":return e.stop()}},e)}),saveServiceInfo:i.default.mark(function e(t,a){var r,n,s,d,l,o,p,f;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.call,n=a.select,s=a.put,e.next=3,n(function(e){return e.centerServiceProvider});case 3:return d=e.sent,l=d.data,e.next=7,r(c.saveServiceInfo,l);case 7:if(o=e.sent,p=o.ok,f=o.msg,!p){e.next=15;break}return e.next=13,s({type:"getProviderStatus"});case 13:e.next=16;break;case 15:u.default.error(f);case 16:case"end":return e.stop()}},e)})},reducers:{updateData:function(e,t){var a=t.payload.data;return(0,s.default)({},e,{data:a||{providerName:"",profile:"",centent:"",seviceCase:"",labelList:[]},status:a&&a.status,disabled:a&&a.status===c.ServiceType.UnReviewed||a&&a.status===c.ServiceType.Success||a&&a.status===c.ServiceType.Failed})},save:function(e,t){var a=t.payload;return(0,s.default)({},e,a)},saveTagList:function(e,t){var a=t.payload.data,r=(0,n.default)(e.data.labelList),i=a&&a.map(function(e){return(0,s.default)({},e,{checked:!1})});return i.forEach(function(e){r.forEach(function(t){e.labelId===t.labelId&&(e.checked=!0)})}),(0,s.default)({},e,{tagList:i})},updateTagList:function(e,t){var a=t.payload,r=a.checked,n=a.item,i=e.tagList.map(function(e){return n.labelId===e.labelId?(0,s.default)({},e,{checked:r}):e});return(0,s.default)({},e,{tagList:i})},destory:function(){return d}}};t.default=l}}]);