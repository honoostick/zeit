(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[55],{Qwtm:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sRBo");var r=l(a("kaz8"));a("/zsF");var u=l(a("PArb"));a("14J3");var d=l(a("BMrR"));a("+L6B");var c=l(a("2/Rp"));a("jCWc");var o=l(a("kPKH"));a("5NDa");var f=l(a("5rEg")),s=l(a("p0pE")),i=l(a("2Taf")),m=l(a("vZ4D")),p=l(a("l4Ni")),g=l(a("ujKo")),v=l(a("MhPg"));a("Znn+");var E=l(a("ZTPi"));a("y8nQ");var h,b,N,y=l(a("Vl3Y")),k=n(a("q1tI")),w=a("MuoO"),C=l(a("m0DI")),P=l(a("MLOd")),A=l(a("ofzO")),D=a("+n12"),L=y.default.Item,M=E.default.TabPane,F="app-user-dszz",I=(h=(0,w.connect)(function(e){var t=e.loginAccount;return t}),h((N=function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,p.default)(this,(0,g.default)(t).call(this,e)),a.getCheckCodeHandle=function(e){e.preventDefault();var t=a.props.dispatch;a.props.form.validateFields(["mobileNumber1"],function(e,l){e||t&&(t({type:"loginAccount/getCheckCode",payload:{mobileNumber:l.mobileNumber1}}),a.setState({waitGetCode:!1,count:60}),a.interval=setInterval(function(){var e=a.state.count;a.state.count>0?a.setState({count:e-1}):(a.setState({waitGetCode:!0}),clearInterval(a.interval))},1e3))})},a.loginAccount=function(e){e.preventDefault();var t=a.props.dispatch;a.props.form.validateFields(["mobileNumber","password"],function(e,a){e||t&&t({type:"loginAccount/pwdLogin",payload:(0,s.default)({},a)})})},a.login=function(e){e.preventDefault();var t=a.props.dispatch;a.props.form.validateFields(["mobileNumber1","code"],function(e,a){e||t&&t({type:"loginAccount/codeLogin",payload:(0,s.default)({},a)})})},a.changeCheck=function(e){var t=a.props.dispatch;t({type:"loginAccount/updateState",payload:{rememberChecked:e.target.checked}})},a.renderMobileLogin=function(){var e=a.props.form.getFieldDecorator;return k.default.createElement(M,{tab:"\u624b\u673a\u767b\u5f55",key:"1"},k.default.createElement(y.default,null,k.default.createElement(L,null,e("mobileNumber1",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1[3-9]\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801!"}]})(k.default.createElement(f.default,{placeholder:"\u624b\u673a\u53f7\u7801"}))),a.state.valiation&&k.default.createElement(k.default.Fragment,null,k.default.createElement(L,null,k.default.createElement(d.default,null,k.default.createElement(o.default,{span:14},e("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"},{pattern:/^\d{6}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9a8c\u8bc1\u7801!"}]})(k.default.createElement(f.default,{placeholder:"\u9a8c\u8bc1\u7801"}))),k.default.createElement(o.default,{span:9},k.default.createElement(c.default,{type:"primary",onClick:a.getCheckCodeHandle,disabled:!a.state.waitGetCode,className:C.default["code-button"]},a.state.waitGetCode?"\u83b7\u53d6\u9a8c\u8bc1\u7801":"".concat(a.state.count,"s\u540e\u91cd\u65b0\u83b7\u53d6")))))),k.default.createElement(L,null,k.default.createElement(d.default,null,k.default.createElement(o.default,{className:C.default["col-left"],span:12}),k.default.createElement(o.default,{span:12,className:C.default.other},k.default.createElement("a",{href:"/login/forget",target:"_blank",className:C.default.ahref},"\u5fd8\u8bb0\u5bc6\u7801"),k.default.createElement(u.default,{type:"vertical",className:C.default.divider1}),k.default.createElement("a",{href:"/register",target:"_blank",className:C.default.ahref2},"\u6ce8\u518c\u65b0\u8d26\u53f7")))),k.default.createElement(L,{className:C.default.nextbutton},k.default.createElement(c.default,{disabled:!a.state.valiation,type:"primary",style:{width:"270px",margin:"0 auto"},onClick:a.login},"\u767b\u5f55"))))},a.renderPwdLogin=function(){var e=a.props.form.getFieldDecorator,t=(0,D.jsonParse)(localStorage.getItem(F)||"{}")||{};return k.default.createElement(M,{tab:"\u5bc6\u7801\u767b\u5f55",key:"2"},k.default.createElement(y.default,null,k.default.createElement(L,null,e("mobileNumber",{initialValue:t?t.mobileNumber:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1[3-9]\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801!"}]})(k.default.createElement(f.default,{placeholder:"\u624b\u673a\u53f7\u7801"}))),k.default.createElement(L,null,e("password",{initialValue:t?t.password:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}]})(k.default.createElement(f.default.Password,{placeholder:"\u5bc6\u7801"}))),k.default.createElement(L,null,k.default.createElement(d.default,null,k.default.createElement(o.default,{className:C.default["col-left"],span:12},e("remember",{valuePropName:"checked",initialValue:!!t.remember})(k.default.createElement(r.default,{onChange:a.changeCheck},"\u81ea\u52a8\u767b\u5f55"))),k.default.createElement(o.default,{span:12,className:C.default.other},k.default.createElement("a",{href:"/login/forget",target:"_blank",className:C.default.ahref},"\u5fd8\u8bb0\u5bc6\u7801"),k.default.createElement(u.default,{type:"vertical",className:C.default.divider1}),k.default.createElement("a",{href:"/register",target:"_blank",className:C.default.ahref2},"\u6ce8\u518c\u65b0\u8d26\u53f7")))),k.default.createElement(L,{className:C.default.nextbutton},k.default.createElement(c.default,{type:"primary",style:{width:"270px",margin:"0 auto"},onClick:a.loginAccount},"\u767b\u5f55"))))},a.state={valiation:!0,count:60,waitGetCode:!0},a}return(0,v.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"login/fetch"})}},{key:"render",value:function(){return k.default.createElement("div",{className:C.default.container,style:{backgroundImage:"url(".concat(P.default,")")}},k.default.createElement("div",{className:C.default["steps-content-wrapper"]},k.default.createElement("img",{className:C.default.deco,src:A.default,alt:""}),k.default.createElement("div",{className:C.default["steps-content"]},k.default.createElement("div",{className:C.default["register-content"]},k.default.createElement(E.default,{defaultActiveKey:"1"},this.renderMobileLogin(),this.renderPwdLogin())))))}}]),t}(k.Component),b=N))||b),_=y.default.create()(I);t.default=_},ofzO:function(e,t,a){e.exports=a.p+"static/login_deco.f100a43e.png"}}]);