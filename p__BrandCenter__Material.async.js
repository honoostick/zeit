(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{FgM3:function(e,t,a){e.exports={container:"antd-pro-pages-brand-center-material-style-container",button:"antd-pro-pages-brand-center-material-style-button",save:"antd-pro-pages-brand-center-material-style-save"}},uQ86:function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var o=r(a("BMrR"));a("jCWc");var d=r(a("kPKH"));a("+L6B");var l=r(a("2/Rp")),i=r(a("2Taf")),u=r(a("vZ4D")),c=r(a("l4Ni")),p=r(a("ujKo")),s=r(a("MhPg")),f=r(a("p0pE"));a("Znn+");var y,E,h,v=r(a("ZTPi")),m=n(a("q1tI")),b=a("MuoO"),C=r(a("YtUG")),g=r(a("8kuz")),M=r(a("lJIO")),S=r(a("FgM3")),P=v.default.TabPane,w=(y=(0,b.connect)(function(e){var t=e.brandCenterMaterial,a=e.user;return(0,f.default)({},t,{user:a})}),y((h=function(e){function t(){var e,a;(0,i.default)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=(0,c.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(n))),a.onPanelChanged=function(e){var t=a.props,r=t.dispatch,n=t.user;r({type:"brandCenterMaterial/updateState",payload:{displayType:e}}),r({type:"brandCenterMaterial/fetch",payload:n.currentUser.userId})},a.attachIntroductionEditor=function(e){a.introductionEditor=e,a.onIntroductionReady()},a.attachHonorEditor=function(e){a.honorEditor=e,a.onHonorReady()},a.attachServiceEditor=function(e){a.serviceEditor=e,a.onServiceReady()},a.onIntroductionReady=function(){var e=a.props.introduction;a.introductionEditor&&e.length>0&&a.introductionEditor.setContent(e)},a.onHonorReady=function(){var e=a.props.honor;a.honorEditor&&e.length>0&&a.honorEditor.setContent(e)},a.onServiceReady=function(){var e=a.props.service;a.serviceEditor&&e.length>0&&a.serviceEditor.setContent(e)},a.updateIntroErr=function(){var e=a.props.dispatch,t=a.introductionEditor.getContent();e(t?{type:"brandCenterMaterial/updateIntroErr",payload:{show:!1}}:{type:"brandCenterMaterial/updateIntroErr",payload:{show:!0}})},a.updateHonorErr=function(){var e=a.props.dispatch,t=a.honorEditor.getContent();e(t?{type:"brandCenterMaterial/updateHonorErr",payload:{show:!1}}:{type:"brandCenterMaterial/updateHonorErr",payload:{show:!0}})},a.updateServiceErr=function(){var e=a.props.dispatch,t=a.serviceEditor.getContent();e(t?{type:"brandCenterMaterial/updateServiceErr",payload:{show:!1}}:{type:"brandCenterMaterial/updateServiceErr",payload:{show:!0}})},a.handleIntroductionSubmit=function(){var e=a.props.dispatch,t=a.introductionEditor.getContent();a.updateIntroErr(),t&&(e({type:"brandCenterMaterial/updateState",payload:{introduction:t}}),e({type:"brandCenterMaterial/saveEditorInfo",payload:t}))},a.handleHonorSubmit=function(){var e=a.props.dispatch,t=a.honorEditor.getContent();a.updateHonorErr(),t&&(e({type:"brandCenterMaterial/updateState",payload:{honor:t}}),e({type:"brandCenterMaterial/saveEditorInfo",payload:t}))},a.handleServiceSubmit=function(){var e=a.props.dispatch,t=a.serviceEditor.getContent();a.updateServiceErr(),t&&(e({type:"brandCenterMaterial/updateState",payload:{service:t}}),e({type:"brandCenterMaterial/saveEditorInfo",payload:t}))},a.updatePictureValue=function(e){var t=a.props.dispatch;t({type:"brandCenterMaterial/updatePictureValue",payload:{images:e}})},a.updatePictureErr=function(){var e=a.props,t=e.dispatch,r=e.pictures;r.length>0?t({type:"brandCenterMaterial/updatePictureErr",payload:{show:!1}}):t({type:"brandCenterMaterial/updatePictureErr",payload:{show:!0}})},a.handlePictureSubmit=function(){var e=a.props,t=e.dispatch,r=e.pictures;a.updatePictureErr(),r.length>0&&t({type:"brandCenterMaterial/savePicture"})},a.renderImageView=function(){var e=a.props,t=e.pictures,r=e.pictureErr;return m.default.createElement("div",null,m.default.createElement(M.default,{fixed:"600x408",sizeLimit:1048576,total:12,images:t,onChange:function(e){return a.updatePictureValue(e)}}),m.default.createElement("div",{style:{color:"#666666",fontSize:"12px",marginTop:"10px"}},"\u8bf7\u4e0a\u4f20\u5e97\u94fa\u5c55\u793a\u56fe\uff0c\u5728\u90fd\u5e02\u667a\u9020APP\u60a8\u7684\u54c1\u724c\u5e97\u94fa\u5c55\u793a\uff0c\u5c3a\u5bf8\u5efa\u8bae\u5bbd600PX*\u9ad8408PX\uff0c\u5927\u5c0f\u9650\u5236\u57281M\u4ee5\u5185\uff0c\u6587\u4ef6\u683c\u5f0f\u652f\u6301JPG\u3001PNG\u7b49"),r.show&&m.default.createElement("span",{style:{color:"red"}},r.content),m.default.createElement("div",{className:S.default.button,style:{marginTop:"60px"}},m.default.createElement(l.default,{className:S.default.save,onClick:function(){return a.handlePictureSubmit()}},"\u4fdd\u5b58")))},a}return(0,s.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.user;t({type:"brandCenterMaterial/fetch",payload:a.currentUser.userId})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"brandCenterMaterial/release"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.displayType,r=t.introductionErr,n=t.serviceErr,i=t.honorErr;return m.default.createElement("div",{className:S.default.container},m.default.createElement(C.default,{title:"\u4f01\u4e1a\u4ecb\u7ecd"}),m.default.createElement(v.default,{defaultActiveKey:a,onChange:this.onPanelChanged},m.default.createElement(P,{tab:"\u4f01\u4e1a\u7b80\u4ecb",key:"1"},m.default.createElement(o.default,null,m.default.createElement(d.default,{span:20,style:{marginLeft:"10px"}},m.default.createElement(g.default,{onReady:this.onIntroductionReady(),ref:this.attachIntroductionEditor})),m.default.createElement(d.default,{span:20,style:{marginLeft:"10px"}},r.show&&m.default.createElement("span",{style:{color:"red"}},r.content))),m.default.createElement("div",{className:S.default.button},m.default.createElement(l.default,{className:S.default.save,onClick:function(){return e.handleIntroductionSubmit()}},"\u4fdd\u5b58"))),m.default.createElement(P,{tab:"\u8363\u8a89\u8d44\u8d28",key:"2"},m.default.createElement(o.default,null,m.default.createElement(d.default,{span:20,style:{marginLeft:"10px"}},m.default.createElement(g.default,{onReady:this.onHonorReady(),ref:this.attachHonorEditor})," ")),i.show&&m.default.createElement("span",{style:{color:"red"}},i.content),m.default.createElement("div",{className:S.default.button},m.default.createElement(l.default,{className:S.default.save,onClick:function(){return e.handleHonorSubmit()}},"\u4fdd\u5b58"))),m.default.createElement(P,{tab:"\u4ea7\u54c1\u670d\u52a1",key:"3"},m.default.createElement(o.default,null,m.default.createElement(d.default,{span:20,style:{marginLeft:"10px"}},m.default.createElement(g.default,{onReady:this.onServiceReady(),ref:this.attachServiceEditor})," ")),n.show&&m.default.createElement("span",{style:{color:"red"}},n.content),m.default.createElement("div",{className:S.default.button},m.default.createElement(l.default,{className:S.default.save,onClick:function(){return e.handleServiceSubmit()}},"\u4fdd\u5b58"))),m.default.createElement(P,{tab:"\u4f01\u4e1a\u98ce\u91c7",key:"4"},this.renderImageView())))}}]),t}(m.Component),E=h))||E),I=w;t.default=I}}]);