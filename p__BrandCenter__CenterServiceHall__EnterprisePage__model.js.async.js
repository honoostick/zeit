(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{nETd:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("p0pE"));a("miYZ");var s=n(a("tsqr")),d=n(a("d6i3")),u=a("xfYU"),i=a("+n12"),c=4,o={namespace:"enterprisePage",state:{curPage:0,pageSize:c,loading1:!0,loading2:!0,pageIndex1:1,pageIndex2:1,demandCount:0,goodsCount:0,goodsList:[],demandList:[{}]},effects:{fetch:d.default.mark(function e(t,a){var n;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.put,e.next=3,n({type:"fetchDemandList",pageIndex:1});case 3:return e.next=5,n({type:"fetchLocation",address:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e0a\u5730\u5341\u885710\u53f7"});case 5:case"end":return e.stop()}},e)}),fetchLocation:d.default.mark(function e(t,a){var n,r,s,i,c;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.address,r=a.call,s=a.put,e.next=4,r(u.getLocation,n);case 4:if(i=e.sent,c=i.ok,i.data,i.msg,!c){e.next=11;break}return e.next=11,s({type:"save",payload:{loading2:!1}});case 11:case"end":return e.stop()}},e)}),fetchDemandList:d.default.mark(function e(t,a){var n,r,o,p,l,f,g,v,m,x,y,h;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.industryId,r=t.demandsType,o=t.status,p=t.pageIndex,l=a.call,f=a.put,g={demandsType:r||void 0,industryId:n||void 0,status:o||void 0,pageSize:c,pageIndex:p},e.next=5,l(u.getDemandList,g);case 5:return v=e.sent,m=v.ok,x=v.data,y=v.msg,e.next=11,f({type:"save",payload:{loading2:!1}});case 11:if(m){e.next=14;break}return s.default.error(y),e.abrupt("return");case 14:return h=x.resultList&&x.resultList.map(function(e){var t=e;return e.title.length>30&&(t.title="".concat(e.title.substring(0,30),"...")),t.servicePrice=(0,i.displayYuan)(e.servicePrice),t.servicePrice.toString().includes(".")||(t.servicePrice+=".0"),t}),e.next=17,f({type:"save",payload:{demandList:h,demandCount:parseInt(x.resultCount,10)||0}});case 17:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){var a=t.payload;return(0,r.default)({},e,a)}}};t.default=o},xfYU:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getIndustryDick=d,t.getDemandList=u,t.getLocation=i;var r=n(a("io9h")),s=n(a("t3Un"));function d(){return(0,s.default)("/sc/dataDic",{params:{dataType:8}})}function u(e){return(0,s.default)("/mms/demands/demandList/1.3",{method:"post",data:e})}function i(e){return r.default.get("/location/?address=".concat(e,"&output=json&ak=GSzwGWb6BhqlQME3jePOXX7gWBnOkVb9")).catch(function(){return{ok:!1}})}}}]);