(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{nETd:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("p0pE"));a("miYZ");var s=n(a("tsqr")),d=n(a("d6i3")),i=a("xfYU"),u=a("+n12"),c=4,o={namespace:"enterprisePage",state:{curPage:0,pageSize:c,loading1:!0,loading2:!0,pageIndex1:1,pageIndex2:1,demandCount:0,goodsCount:0,goodsList:[],demandList:[{}]},effects:{fetch:d.default.mark(function e(t,a){var n;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.put,e.next=3,n({type:"fetchDemandList",pageIndex:1});case 3:return e.next=5,n({type:"fetchLocation",address:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e0a\u5730\u5341\u885710\u53f7"});case 5:case"end":return e.stop()}},e)}),fetchLocation:d.default.mark(function e(t,a){var n,r,s,u,c;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.address,r=a.call,s=a.put,e.next=4,r(i.getLocation,n);case 4:if(u=e.sent,c=u.ok,u.data,u.msg,!c){e.next=11;break}return e.next=11,s({type:"save",payload:{loading2:!1}});case 11:case"end":return e.stop()}},e)}),fetchDemandList:d.default.mark(function e(t,a){var n,r,o,p,l,f,v,g,x,m,w,y;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.industryId,r=t.demandsType,o=t.status,p=t.pageIndex,l=a.call,f=a.put,v={demandsType:r||void 0,industryId:n||void 0,status:o||void 0,pageSize:c,pageIndex:p},e.next=5,l(i.getDemandList,v);case 5:return g=e.sent,x=g.ok,m=g.data,w=g.msg,e.next=11,f({type:"save",payload:{loading2:!1}});case 11:if(x){e.next=14;break}return s.default.error(w),e.abrupt("return");case 14:return y=m.resultList&&m.resultList.map(function(e){var t=e;return e.title.length>30&&(t.title="".concat(e.title.substring(0,30),"...")),t.servicePrice=(0,u.displayYuan)(e.servicePrice),t.servicePrice.toString().includes(".")||(t.servicePrice+=".0"),t}),e.next=17,f({type:"save",payload:{demandList:y,demandCount:parseInt(m.resultCount,10)||0}});case 17:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){var a=t.payload;return(0,r.default)({},e,a)}}};t.default=o}}]);