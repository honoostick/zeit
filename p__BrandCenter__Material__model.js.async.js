(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{lPEG:function(e,t,r){"use strict";var n=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("p0pE")),u=n(r("d6i3"));r("miYZ");var s=n(r("tsqr")),o=r("mEz3"),c={displayType:"1",displayContent:"",introduction:"",honor:"",service:"",pictures:[],introductionErr:{content:"\u8bf7\u8f93\u5165\u4f01\u4e1a\u7b80\u4ecb\uff01",show:!1},honorErr:{content:"\u8bf7\u8f93\u5165\u8363\u8a89\u8d44\u8d28\uff01",show:!1},serviceErr:{content:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u670d\u52a1\uff01",show:!1},pictureErr:{content:"\u8bf7\u4e0a\u4f20\u4f01\u4e1a\u56fe\u7247\uff01",show:!1}},i={namespace:"brandCenterMaterial",state:c,effects:{fetch:u.default.mark(function e(t,r){var n,a,c,i,d,p,l,f,v,y;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,c=r.put,i=r.select,e.next=4,i(function(e){return e.brandCenterMaterial});case 4:if(d=e.sent,p=d.displayType,"4"!==p){e.next=11;break}return e.next=9,c({type:"getPicture",payload:n});case 9:e.next=29;break;case 11:return e.next=13,a(o.getEditorInfo,{reqType:p,enterpriseId:n});case 13:if(l=e.sent,f=l.ok,v=l.msg,y=l.data,f){e.next=20;break}return s.default.error(v),e.abrupt("return");case 20:if("1"!==p){e.next=23;break}return e.next=23,c({type:"updateState",payload:{introduction:y}});case 23:if("2"!==p){e.next=26;break}return e.next=26,c({type:"updateState",payload:{honor:y}});case 26:if("3"!==p){e.next=29;break}return e.next=29,c({type:"updateState",payload:{service:y}});case 29:case"end":return e.stop()}},e)}),saveEditorInfo:u.default.mark(function e(t,r){var n,a,c,i,d,p,l,f,v,y,h;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,c=r.select,i=r.put,e.next=4,c(function(e){return e.brandCenterMaterial});case 4:return d=e.sent,p=d.displayType,e.next=8,c(function(e){return e.user});case 8:return l=e.sent,f=l.currentUser,e.next=12,a(o.saveEditorInfo,{displayType:p,displayContent:n});case 12:if(v=e.sent,y=v.ok,h=v.msg,y){e.next=18;break}return s.default.error(h),e.abrupt("return");case 18:return s.default.success("\u4fdd\u5b58\u6210\u529f"),e.next=21,i({type:"fetch",payload:f.userId});case 21:case"end":return e.stop()}},e)}),savePicture:u.default.mark(function e(t,r){var n,a,c,i,d,p,l,f,v,y,h;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.call,a=r.select,c=r.put,e.next=3,a(function(e){return e.brandCenterMaterial});case 3:return i=e.sent,d=i.pictures,e.next=7,a(function(e){return e.user});case 7:return p=e.sent,l=p.currentUser,e.next=11,n(o.getImages,{pictures:d});case 11:return f=e.sent,e.next=14,n(o.savePicture,{urlList:f});case 14:if(v=e.sent,y=v.ok,h=v.msg,y){e.next=20;break}return s.default.error(h),e.abrupt("return");case 20:return s.default.success("\u4fdd\u5b58\u6210\u529f"),e.next=23,c({type:"getPicture",payload:l.userId});case 23:case"end":return e.stop()}},e)}),getPicture:u.default.mark(function e(t,r){var n,a,c,i,d,p,l;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,c=r.put,e.next=4,a(o.getPicture,{enterpriseId:n});case 4:if(i=e.sent,d=i.ok,p=i.data,l=i.msg,d){e.next=11;break}return s.default.error(l),e.abrupt("return");case 11:return e.next=13,c({type:"updatePictures",payload:{list:p}});case 13:case"end":return e.stop()}},e)})},reducers:{updateState:function(e,t){var r=t.payload;return(0,a.default)({},e,r)},updateIntroErr:function(e,t){var r=t.payload.show;return(0,a.default)({},e,{introductionErr:(0,a.default)({},e.introductionErr,{show:r}),introduction:r?"":e.introduction})},updateHonorErr:function(e,t){var r=t.payload.show;return(0,a.default)({},e,{honorErr:(0,a.default)({},e.honorErr,{show:r}),honor:r?"":e.honor})},updateServiceErr:function(e,t){var r=t.payload.show;return(0,a.default)({},e,{serviceErr:(0,a.default)({},e.serviceErr,{show:r}),service:r?"":e.service})},updatePictureErr:function(e,t){var r=t.payload.show;return(0,a.default)({},e,{pictureErr:(0,a.default)({},e.pictureErr,{show:r}),pictures:r?"":e.pictures})},updatePictureValue:function(e,t){var r=t.payload.images;return(0,a.default)({},e,{pictures:r})},updatePictures:function(e,t){var r=t.payload.list,n=r.map(function(e){return{id:e.id,server:e.elegantUrl}});return(0,a.default)({},e,{pictures:n})},release:function(e,t){var r=t.payload;return(0,a.default)({},e,r,{displayType:"1",displayContent:"",introduction:"",honor:"",service:"",pictures:[],introductionErr:{content:"\u8bf7\u8f93\u5165\u4f01\u4e1a\u7b80\u4ecb\uff01",show:!1},honorErr:{content:"\u8bf7\u8f93\u5165\u8363\u8a89\u8d44\u8d28\uff01",show:!1},serviceErr:{content:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u670d\u52a1\uff01",show:!1},pictureErr:{content:"\u8bf7\u4e0a\u4f20\u4f01\u4e1a\u56fe\u7247\uff01",show:!1}})}}};t.default=i},mEz3:function(e,t,r){"use strict";var n=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.saveEditorInfo=u,t.getEditorInfo=s,t.savePicture=o,t.getPicture=c,t.getImages=i;var a=n(r("t3Un"));function u(e){return(0,a.default)("/mms/enterprise/display/1.2",{method:"post",data:e})}function s(e){return(0,a.default)("/mms/enterprise/displayShow/1.2",{method:"post",data:e})}function o(e){return(0,a.default)("/mms/enterprise/elegant/1.2",{method:"post",data:e})}function c(e){return(0,a.default)("/mms/enterprise/elegantList/1.2",{method:"get",params:e})}function i(e){var t=e.pictures.map(function(e,t){return{elegantUrl:e.server,upSort:t+1}});return t}}}]);