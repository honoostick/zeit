(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[69],{UTbS:function(e,t,r){"use strict";var a=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(r("d6i3"));r("miYZ");var u=a(r("tsqr")),n=a(r("p0pE")),d=r("7DNP"),c=r("FFwD"),l={namespace:"register",state:{text:"loading..."},effects:{getCheckCode:s.default.mark(function e(t,r){var a,d,l,p,o,f;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,d=r.call,l=(0,n.default)({},a,{smsType:2}),e.next=5,d(c.getCheckCode,(0,n.default)({},l));case 5:if(p=e.sent,o=p.ok,f=p.msg,o){e.next=11;break}return u.default.error(f),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e)}),registerUser:s.default.mark(function e(t,r){var a,l,p,o,f,i,w,v;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,l=r.call,p=r.put,o=(0,n.default)({},a),delete o.password1,delete o.agreement,e.next=7,l(c.registerUser,(0,n.default)({},o,{registerType:1}));case 7:if(f=e.sent,i=f.ok,w=f.msg,v=f.data,i){e.next=14;break}return u.default.error(w),e.abrupt("return");case 14:return u.default.success("\u6ce8\u518c\u6210\u529f\uff01"),e.next=17,p({type:"save",payload:v});case 17:return e.next=19,p({type:"user/saveUser",payload:v});case 19:return e.next=21,p(d.routerRedux.push("/register/complete"));case 21:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){var r=t.payload;return(0,n.default)({},e,r)}}};t.default=l}}]);