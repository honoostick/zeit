(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[52],{jRV9:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("p0pE")),s=r(a("d6i3"));a("miYZ");var u=r(a("tsqr")),i=a("+scF"),c={namespace:"home",state:{newsList:[],dataList:[],newsLoading:!0},effects:{getNews:s.default.mark(function e(t,a){var r,n,c,p,d,o,l;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.call,n=a.put,e.next=3,r(i.getNewsList);case 3:if(c=e.sent,p=c.data,d=c.msg,o=c.ok,!o){e.next=13;break}return l=p.resultList&&p.resultList.map(function(e){var t=e;return t.time=e.pubishTime&&e.pubishTime.substring(0,10),t}),e.next=11,n({type:"upState",payload:{newsList:l}});case 11:e.next=14;break;case 13:u.default.error(d);case 14:case"end":return e.stop()}},e)}),getData:s.default.mark(function e(t,a){var r,n,c,p,d,o;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.call,n=a.put,e.next=3,r(i.getDataList);case 3:if(c=e.sent,p=c.data,d=c.msg,o=c.ok,!o){e.next=12;break}return e.next=10,n({type:"upState",payload:{dataList:p.resultList}});case 10:e.next=13;break;case 12:u.default.error(d);case 13:case"end":return e.stop()}},e)}),fetchNewsDetail:s.default.mark(function e(t,a){var r,n,c,p,d,o,l,f;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.newsId,n=a.put,c=a.call,e.next=4,c(i.getNewsData,r);case 4:return p=e.sent,d=p.data,o=p.ok,l=p.msg,f=p.code,e.next=11,n({type:"upState",payload:{newsLoading:!1}});case 11:if(o){e.next=14;break}return 4103===f?u.default.warning(l):u.default.error(l),e.abrupt("return",!1);case 14:return d.time=d.pubishTime&&d.pubishTime.substring(0,10).replace(/-/g,"."),d.cotent=d.cotent&&d.cotent.replace(/<img/g,'<img style="max-width: 100%"'),e.next=18,n({type:"upState",payload:{newsData:d}});case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}},e)})},reducers:{upState:function(e,t){var a=t.payload;return(0,n.default)({},e,a)}}};t.default=c}}]);